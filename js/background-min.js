"use strict";let fss={renderer:new FSS.CanvasRenderer,container:document.querySelector(".background"),scene:new FSS.Scene,geometry:new FSS.Plane(1.7*window.innerWidth,2*window.innerHeight,Math.round(window.innerWidth/window.innerHeight*7),7),material:new FSS.Material("#333333","#AAAAAA"),mesh:0,light:new FSS.Light("#232121","#514e4e"),play:1,x:0};fss.renderer.setSize(1.7*fss.container.offsetWidth,2*fss.container.offsetHeight),fss.light.setPosition(0,0,60),fss.mesh=new FSS.Mesh(fss.geometry,fss.material),fss.container.appendChild(fss.renderer.element),fss.scene.add(fss.mesh),fss.scene.add(fss.light),fss.renderer.render(fss.scene),fss.mesh.speed=.001,fss.mesh.xRange=.7,fss.mesh.yRange=.1,fss.mesh.zRange=5,fss.mesh.depth=10;let now,start=Date.now();function cycle(){let e,s,n,t=fss.mesh.depth/2;fss.geometry.vertices.forEach(r=>{e=Math.sin(r.time+r.step[0]*now*fss.mesh.speed),s=Math.cos(r.time+r.step[1]*now*fss.mesh.speed),n=Math.sin(r.time+r.step[2]*now*fss.mesh.speed),FSS.Vector3.set(r.position,fss.mesh.xRange*fss.geometry.segmentWidth*e,fss.mesh.yRange*fss.geometry.sliceHeight*s,fss.mesh.zRange*t*n-t),FSS.Vector3.add(r.position,r.anchor)}),fss.geometry.dirty=!0}function Render(){fss.renderer.render(fss.scene)}function backgroundAnimation(){now=Date.now()-start,cycle(),Render(),1===fss.play&&requestAnimationFrame(backgroundAnimation)}function backgroundResize(){config.width!==window.innerWidth&&(config.width=window.innerWidth,fss.scene=new FSS.Scene,fss.geometry=new FSS.Plane(1.7*window.innerWidth,2*window.innerHeight,Math.round(window.innerWidth/window.innerHeight*7),7),fss.renderer.setSize(1.7*fss.container.offsetWidth,2*fss.container.offsetHeight),fss.light.setPosition(0,0,60),fss.mesh=new FSS.Mesh(fss.geometry,fss.material),fss.container.appendChild(fss.renderer.element),fss.scene.add(fss.mesh),fss.scene.add(fss.light),fss.renderer.render(fss.scene),fss.mesh.speed=.001,fss.mesh.xRange=.7,fss.mesh.yRange=.1,fss.mesh.zRange=5,fss.mesh.depth=10,fss.geometry.vertices.forEach(e=>{e.anchor=FSS.Vector3.clone(e.position),e.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),e.time=Math.randomInRange(0,Math.PIM2)}))}function backgroundTranslate(){fss.x=(fss.renderer.element.clientWidth-window.innerWidth)/2;let e=(fss.renderer.element.clientHeight-.2*fss.renderer.element.clientHeight-.2*fss.renderer.element.clientHeight)/(document.querySelector("body").clientHeight+window.innerHeight),s=document.querySelector("html").scrollTop,n=.1*fss.renderer.element.clientHeight+s*e;fss.renderer.element.style.transform=`translate(${-fss.x}px, ${-n}px)`}function backgroundScrolling(){let e=(fss.renderer.element.clientHeight-.2*fss.renderer.element.clientHeight-.2*fss.renderer.element.clientHeight)/(document.querySelector("body").clientHeight+window.innerHeight),s=document.querySelector("html").scrollTop,n=.1*fss.renderer.element.clientHeight+s*e;fss.renderer.element.style.transform=`translate(${-fss.x}px, ${-n}px)`}fss.geometry.vertices.forEach(e=>{e.anchor=FSS.Vector3.clone(e.position),e.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),e.time=Math.randomInRange(0,Math.PIM2)}),backgroundAnimation(),window.addEventListener("resize",backgroundResize),backgroundTranslate();